<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{fragment/layout}">
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div layout:fragment="contents">
    <h4>진행중인 레슨 목록</h4>

    <table class="table" id="lessonList">
        <tr>
            <th>번호</th>
            <th>강의명</th>
            <th>강사</th>
            <th>프로필사진</th>
            <th>시간</th>
            <th>가격</th>
            <th>레슨 시작일</th>
            <th>레슨 종료일</th>
            <th>수강신청 마감일</th>
            <th>수강자수</th>
            <th>수강신청</th>
        </tr>

        <tr th:each="lesson : ${lessons}">
            <td><a th:text="${lesson.id}">번호</a></td>
            <td th:text="${lesson.name}">강의명</td>
            <td th:text="${lesson.teacher.name}">강사</td>
            <td><img th:src="|/image/${lesson.teacher.profileImageUrl}|" width="50" height="50"/></td>
            <td th:text="${lesson.lessonTime}">시간</td>
            <td th:text="${lesson.price}">가격</td>
            <td th:text="${#temporals.format(lesson.lessonStartDate, 'yyyy-MM-dd')}">레슨 시작일</td>
            <td th:text="${#temporals.format(lesson.lessonEndDate, 'yyyy-MM-dd')}">레슨 종료일</td>
            <td th:text="${#temporals.format(lesson.applyEndDate, 'yyyy-MM-dd')}">수강신청 마감일</td>
            <td th:text="${lesson.applyStatus}">수강자수</td>
            <th:block th:if="${lesson.userApplyStatus}">
                <td><a>신청완료</a></td>
            </th:block>
            <th:block th:unless="${lesson.userApplyStatus}">
                <td><a th:href="@{|/lesson/${lesson.id}|}">신청하기</a></td>
            </th:block>

        </tr>
    </table>
    <a>※ 수강신청은 레슨 시작일 3일 전까지 가능합니다.</a>


    <script src="/js/home.js"></script>
</div>

</body>

</html>